from telegram import Update, KeyboardButton, ReplyKeyboardMarkup, ReplyKeyboardRemove
from telegram.ext import Updater, CallbackContext, Filters, MessageHandler


button_help = "Помощь"

def button_handler (update : Updater, context : CallbackContext):
    update.message.reply_text(
        text='Это помощь',
        reply_markup= ReplyKeyboardRemove(),
    )

def mess_handler (update : Updater, context : CallbackContext):
    text = update.message.text
    if text == button_help:
        return button_handler(update=update, context=context)
    reply_markup = ReplyKeyboardMarkup(
        keyboard= [
            [KeyboardButton(text=button_help)],
        ],
        resize_keyboard=True
    )


    update.message.reply_text(
        text='Привет, нажми кнопку ниже',
        reply_markup = reply_markup
    )


def main():
    print('Начнём :)')

    updater=Updater(
        token='      ',
        use_context=True
    )
    updater.dispatcher.add_handler(MessageHandler(filters=Filters.all, callback=mess_handler))

    updater.start_polling()
    updater.idle()


if __name__ == '__main__':
    main()


